<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> 
    <link rel="stylesheet" href="/css/navbar.css">
    <link rel="stylesheet" href="/css/assessment.css">
    <title>Review Assessment</title>
</head>
<body>
<%= if(currentUser.user_type == 'student') { %>
<%- include('partials/student_navbar') %>
<%= } else { %>
<%- include('partials/instructor_navbar') %>
<%= } %>

<h1>Viewing <%= student.username %> </h1>
<div class="card card-body">
<h2>Evaluation Summary:</h2>
<table class="table table-bordered">
    <thead class="table-light">
        <tr>
            <th>Student Name</th>
            <th>Cooperation (Avg)</th>
            <th>Conceptual Contribution (Avg)</th>
            <th>Practical Contribution (Avg)</th>
            <th>Work Ethic (Avg)</th>
            <th>Overall Average Score</th>
        </tr>
    </thead>
    <tbody>
        <% studentsSummary.forEach(student => { %>
            <tr>
                <td><%= student.username %></td>
                <td><%= averages.averageCooperation %></td>
                <td><%= averages.averageConceptual %></td>
                <td><%= student.averagePractical %></td>
                <td><%= student.averageWorkEthic %></td>
                <td><%= student.overallAverageScore %></td>
            </tr>
        <% }); %>
    </tbody>
</table>
</div>

<!--Putting all the student's assessments here-->
<div class="assessment">
    <div>
        <label>Cooperation</label> <br>
        <p><strong>Rating:</strong> <%= cooperation %></p>
        <p><strong>Feedback:</strong> <%= cooperation_feedback ? cooperation_feedback : "No feedback provided" %></p>
    </div>
    <hr>
    <div>
        <label>Conceptual Contribution</label> <br>
        <p><strong>Rating:</strong> <%= conceptual_contribution %></p>
        <p><strong>Feedback:</strong> <%= conceptual_feedback ? conceptual_feedback : "No feedback provided" %></p>
    </div>
    <hr>
    <div>
        <label>Practical Contribution</label> <br>
        <p><strong>Rating:</strong> <%= practical_contribution %></p>
        <p><strong>Feedback:</strong> <%= practical_feedback ? practical_feedback : "No feedback provided" %></p>
    </div>
    <hr>
    <div>
        <label>Work Ethic</label> <br>
        <p><strong>Rating:</strong> <%= work_ethic %></p>
        <p><strong>Feedback:</strong> <%= work_feedback ? work_feedback : "No feedback provided" %></p>
    </div>
    <hr>
</div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" 
integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" 
crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" 
integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" 
crossorigin="anonymous"></script>   
</body>
</html>
